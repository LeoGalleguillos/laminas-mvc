<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>The MVC Event - laminas-mvc</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">laminas-mvc</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../intro/" class="nav-link">Introduction</a>
                            </li>
                            <li class="navitem">
                                <a href="../quick-start/" class="nav-link">Quick Start</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../services/" class="dropdown-item">Default Services</a>
</li>
                                    
<li>
    <a href="../routing/" class="dropdown-item">Routing</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">The MVC Event</a>
</li>
                                    
<li>
    <a href="../send-response-event/" class="dropdown-item">The SendResponse Event</a>
</li>
                                    
<li>
    <a href="../controllers/" class="dropdown-item">Available Controllers</a>
</li>
                                    
<li>
    <a href="../plugins/" class="dropdown-item">Controller Plugins</a>
</li>
                                    
<li>
    <a href="../examples/" class="dropdown-item">Examples</a>
</li>
                                    
<li>
    <a href="../middleware/" class="dropdown-item">Dispatching PSR-7 Middleware</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Migration</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../migration/" class="dropdown-item">Migration Overview</a>
</li>
            
<li>
    <a href="../migration/to-v2-7/" class="dropdown-item">v2.X to v2.7</a>
</li>
            
<li>
    <a href="../migration/to-v3-0/" class="dropdown-item">v2.X to v3.0</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Cookbook <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../cookbook/automating-controller-factories/" class="dropdown-item">Automating controller factories</a>
</li>
                                    
<li>
    <a href="../cookbook/middleware-in-listeners/" class="dropdown-item">Using middleware within event listeners</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../routing/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../send-response-event/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/laminas/laminas-mvc/edit/master/docs/mvc-event.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#the-mvcevent" class="nav-link">The MvcEvent</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#order-of-events" class="nav-link">Order of events</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#mvceventevent_bootstrap-bootstrap" class="nav-link">MvcEvent::EVENT_BOOTSTRAP ("bootstrap")</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#mvceventevent_route-route" class="nav-link">MvcEvent::EVENT_ROUTE ("route")</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#mvceventevent_dispatch-dispatch" class="nav-link">MvcEvent::EVENT_DISPATCH ("dispatch")</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#mvceventevent_dispatch_error-dispatcherror" class="nav-link">MvcEvent::EVENT_DISPATCH_ERROR ("dispatch.error")</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#mvceventevent_render-render" class="nav-link">MvcEvent::EVENT_RENDER ("render")</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#mvceventevent_render_error-rendererror" class="nav-link">MvcEvent::EVENT_RENDER_ERROR ("render.error")</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#mvceventevent_finish-finish" class="nav-link">MvcEvent::EVENT_FINISH ("finish")</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="the-mvcevent">The MvcEvent</h1>
<p>laminas-mvc defines and utilizes a custom <code>Laminas\EventManager\Event</code> implementation,
<code>Laminas\Mvc\MvcEvent</code>. This event is created during <code>Laminas\Mvc\Application::bootstrap()</code>
and is passed when triggering all application events.  Additionally, if your
controllers implement the <code>Laminas\Mvc\InjectApplicationEventInterface</code>, <code>MvcEvent</code>
will be injected into those controllers.</p>
<p>The <code>MvcEvent</code> adds accessors and mutators for the following:</p>
<ul>
<li><code>Application</code> object.</li>
<li><code>Request</code> object.</li>
<li><code>Response</code> object.</li>
<li><code>Router</code> object.</li>
<li><code>RouteMatch</code> object.</li>
<li>Result - usually the result of dispatching a controller.</li>
<li><code>ViewModel</code> object, typically representing the layout view model.</li>
</ul>
<p>The methods it defines are:</p>
<ul>
<li><code>setApplication($application)</code></li>
<li><code>getApplication()</code></li>
<li><code>setRequest($request)</code></li>
<li><code>getRequest()</code></li>
<li><code>setResponse($response)</code></li>
<li><code>getResponse()</code></li>
<li><code>setRouter($router)</code></li>
<li><code>getRouter()</code></li>
<li><code>setRouteMatch($routeMatch)</code></li>
<li><code>getRouteMatch()</code></li>
<li><code>setResult($result)</code></li>
<li><code>getResult()</code></li>
<li><code>setViewModel($viewModel)</code></li>
<li><code>getViewModel()</code></li>
<li><code>isError()</code></li>
<li><code>setError()</code></li>
<li><code>getError()</code></li>
<li><code>getController()</code></li>
<li><code>setController($name)</code></li>
<li><code>getControllerClass()</code></li>
<li><code>setControllerClass($class)</code></li>
</ul>
<p>The <code>Application</code>, <code>Request</code>, <code>Response</code>, <code>Router</code>, and <code>ViewModel</code> are all
injected during the <code>bootstrap</code> event. Following the <code>route</code> event, it will be
injected also with the <code>RouteMatch</code> object encapsulating the results of routing.</p>
<p>Since this object is passed around throughout the MVC, it is a common location
for retrieving the results of routing, the router, and the request and response
objects. Additionally, we encourage setting the results of execution in the
event, to allow event listeners to introspect them and utilize them within their
execution. As an example, the results could be passed into a view renderer.</p>
<h2 id="order-of-events">Order of events</h2>
<p>The following events are triggered, in the following order:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Name</th>
<th>Constant</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bootstrap</code></td>
<td><code>MvcEvent::EVENT_BOOTSTRAP</code></td>
<td>Bootstrap the application by creating the ViewManager.</td>
</tr>
<tr>
<td><code>route</code></td>
<td><code>MvcEvent::EVENT_ROUTE</code></td>
<td>Perform routing (or route-related actions).</td>
</tr>
<tr>
<td><code>dispatch</code></td>
<td><code>MvcEvent::EVENT_DISPATCH</code></td>
<td>Dispatch the matched route to a controller/action.</td>
</tr>
<tr>
<td><code>dispatch.error</code></td>
<td><code>MvcEvent::EVENT_DISPATCH_ERROR</code></td>
<td>Event triggered in case of a problem during dispatch process (e.g., unknown controller).</td>
</tr>
<tr>
<td><code>render</code></td>
<td><code>MvcEvent::EVENT_RENDER</code></td>
<td>Prepare the data and delegate the rendering to the view layer.</td>
</tr>
<tr>
<td><code>render.error</code></td>
<td><code>MvcEvent::EVENT_RENDER_ERROR</code></td>
<td>Event triggered in case of a problem during the render process (e.g., no renderer found).</td>
</tr>
<tr>
<td><code>finish</code></td>
<td><code>MvcEvent::EVENT_FINISH</code></td>
<td>Perform tasks once everything else is done.</td>
</tr>
</tbody>
</table></div>
<p>The following sections provide more detail on each event.</p>
<h2 id="mvceventevent_bootstrap-bootstrap"><code>MvcEvent::EVENT_BOOTSTRAP</code> ("bootstrap")</h2>
<h3 id="listeners">Listeners</h3>
<p>The following classes listen to this event (sorted from higher priority to lower
priority):</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th align="right">Priority</th>
<th>Method Called</th>
<th>Triggers</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\View\Http\ViewManager</code></td>
<td align="right">10000</td>
<td><code>onBootstrap</code></td>
<td>none</td>
<td>Prepares the view layer (instantiate a <code>Laminas\Mvc\View\Http\ViewManager</code>).</td>
</tr>
</tbody>
</table></div>
<h3 id="triggered-by">Triggered By</h3>
<p>This event is triggered by the following classes:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th>In Method</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\Application</code></td>
<td><code>bootstrap</code></td>
</tr>
</tbody>
</table></div>
<h2 id="mvceventevent_route-route"><code>MvcEvent::EVENT_ROUTE</code> ("route")</h2>
<h3 id="listeners_1">Listeners</h3>
<p>The following classes listen to this event (sorted from higher priority to lower
priority):</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th align="right">Priority</th>
<th>Method Called</th>
<th>Triggers</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\ModuleRouteListener</code></td>
<td align="right">1</td>
<td><code>onRoute</code></td>
<td>none</td>
<td>Determines if the module namespace should be prepended to the controller name. This is the case if the route match contains a parameter key matching the <code>MODULE_NAMESPACE</code> constant.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\RouteListener</code></td>
<td align="right">1</td>
<td><code>onRoute</code></td>
<td><code>MvcEvent::EVENT_DISPATCH_ERROR</code> (if no route is matched)</td>
<td>Tries to match the request to the router and return a <code>RouteMatch</code> object.</td>
</tr>
</tbody>
</table></div>
<h3 id="triggered-by_1">Triggered By</h3>
<p>This event is triggered by the following classes:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th>In Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\Application</code></td>
<td><code>run</code></td>
<td>Uses a short circuit callback that allows halting propagation of the event if an error is raised during routing.</td>
</tr>
</tbody>
</table></div>
<h2 id="mvceventevent_dispatch-dispatch"><code>MvcEvent::EVENT_DISPATCH</code> ("dispatch")</h2>
<h3 id="listeners_2">Listeners</h3>
<p>The following classes listen to this event (sorted from higher priority to lower
priority):</p>
<h4 id="console-context-only">Console context only</h4>
<p>The following listeners are only attached in a console context:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th align="right">Priority</th>
<th>Method Called</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\View\Console\InjectNamedConsoleParamsListener</code></td>
<td align="right">1000</td>
<td><code>injectNamedParams</code></td>
<td>Merge all params (route match params and params in the command), and add them to the <code>Request</code> object.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Console\CreateViewModelListener</code></td>
<td align="right">-80</td>
<td><code>createViewModelFromArray</code></td>
<td>If the controller action returns an associative array, this listener casts it to a <code>ConsoleModel</code> object.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Console\CreateViewModelListener</code></td>
<td align="right">-80</td>
<td><code>createViewModelFromString</code></td>
<td>If the controller action returns a string, this listener casts it to a <code>ConsoleModel</code> object.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Console\CreateViewModelListener</code></td>
<td align="right">-80</td>
<td><code>createViewModelFromNull</code></td>
<td>If the controller action returns null, this listener casts it to a <code>ConsoleModel</code> object.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Console\InjectViewModelListener</code></td>
<td align="right">-100</td>
<td><code>injectViewModel</code></td>
<td>Inserts the <code>ViewModel</code> (in this case, a <code>ConsoleModel</code>) and adds it to the MvcEvent object. It either (a) adds it as a child to the default, composed view model, or (b) replaces it if the result is marked as terminal.</td>
</tr>
</tbody>
</table></div>
<h4 id="http-context-only">HTTP context only</h4>
<p>The following listeners are only attached in an HTTP context:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th align="right">Priority</th>
<th>Method Called</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\View\Http\CreateViewModelListener</code></td>
<td align="right">-80</td>
<td><code>createViewModelFromArray</code></td>
<td>If the controller action returns an associative array, this listener casts it to a <code>ViewModel</code> object.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Http\CreateViewModelListener</code></td>
<td align="right">-80</td>
<td><code>createViewModelFromNull</code></td>
<td>If the controller action returns null, this listener casts it to a <code>ViewModel</code> object.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Http\RouteNotFoundStrategy</code></td>
<td align="right">-90</td>
<td><code>prepareNotFoundViewModel</code></td>
<td>Creates and return a 404 <code>ViewModel</code>.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Http\InjectTemplateListener</code></td>
<td align="right">-90</td>
<td><code>injectTemplate</code></td>
<td>Injects a template into the view model, if none present. Template name is derived from the controller found in the route match, and, optionally, the action, if present.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Http\InjectViewModelListener</code></td>
<td align="right">-100</td>
<td><code>injectViewModel</code></td>
<td>Inserts the <code>ViewModel</code> (in this case, a <code>ViewModel</code>) and adds it to the <code>MvcEvent</code> object. It either (a) adds it as a child to the default, composed view model, or (b) replaces it if the result is marked as terminable.</td>
</tr>
</tbody>
</table></div>
<h4 id="all-contexts">All contexts</h4>
<p>The following listeners are attached for all contexts (sorted from higher
priority to lower priority):</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th align="right">Priority</th>
<th>Method Called</th>
<th>Triggers</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\MiddlewareListener</code></td>
<td align="right">1</td>
<td><code>onDispatch</code></td>
<td><code>MvcEvent::EVENT_DISPATCH_ERROR</code> (if an exception is raised during dispatch processes)</td>
<td>Load and dispatch the matched PSR-7 middleware from the service manager (and throws various exceptions if it does not).</td>
</tr>
<tr>
<td><code>Laminas\Mvc\DispatchListener</code></td>
<td align="right">1</td>
<td><code>onDispatch</code></td>
<td><code>MvcEvent::EVENT_DISPATCH_ERROR</code> (if an exception is raised during dispatch processes)</td>
<td>Load and dispatch the matched controller from the service manager (and throws various exceptions if it does not).</td>
</tr>
<tr>
<td><code>Laminas\Mvc\AbstractController</code></td>
<td align="right">1</td>
<td><code>onDispatch</code></td>
<td>none</td>
<td>The <code>onDispatch</code> method of the <code>AbstractController</code> is an abstract method. In <code>AbstractActionController</code>, for instance, it calls the action method.</td>
</tr>
</tbody>
</table></div>
<h3 id="triggered-by_2">Triggered By</h3>
<p>This event is triggered by the following classes:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th>In Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\Application</code></td>
<td><code>run</code></td>
<td>Uses a short circuit callback to halt propagation of the event if an error is raised during routing.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\Controller\AbstractController</code></td>
<td><code>dispatch</code></td>
<td>If a listener returns a <code>Response</code> object, it halts propagation. Note: every <code>AbstractController</code> listens to this event and executes the <code>onDispatch</code> method when it is triggered.</td>
</tr>
</tbody>
</table></div>
<h2 id="mvceventevent_dispatch_error-dispatcherror"><code>MvcEvent::EVENT_DISPATCH_ERROR</code> ("dispatch.error")</h2>
<h3 id="listeners_3">Listeners</h3>
<p>The following classes listen to this event (sorted from higher priority to lower
priority):</p>
<h4 id="console-context-only_1">Console context only</h4>
<p>The following listeners are only attached in a console context:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th align="right">Priority</th>
<th>Method Called</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\View\Console\RouteNotFoundStrategy</code></td>
<td align="right">1</td>
<td><code>handleRouteNotFoundError</code></td>
<td>Detect if an error is a "route not found" condition. If a “controller not found” or “invalid controller” error type is encountered, sets the response status code to 404.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Console\ExceptionStrategy</code></td>
<td align="right">1</td>
<td><code>prepareExceptionViewModel</code></td>
<td>Create an exception view model, and sets the status code to 404.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Console\InjectViewModelListener</code></td>
<td align="right">-100</td>
<td><code>injectViewModel</code></td>
<td>Inserts the <code>ViewModel</code> (in this case, a <code>ConsoleModel</code>) and adds it to the <code>MvcEvent</code> object. It either (a) adds it as a child to the default, composed view model, or (b) replaces it if the result is marked as terminable.</td>
</tr>
</tbody>
</table></div>
<h4 id="http-context-only_1">HTTP context only</h4>
<p>The following listeners are only attached in an HTTP context:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th align="right">Priority</th>
<th>Method Called</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\View\Http\RouteNotFoundStrategy</code></td>
<td align="right">1</td>
<td><code>detectNotFoundError</code></td>
<td>Detect if an error is a 404 condition. If a “controller not found” or “invalid controller” error type is encountered, sets the response status code to 404.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Http\RouteNotFoundStrategy</code></td>
<td align="right">1</td>
<td><code>prepareNotFoundViewModel</code></td>
<td>Create and return a 404 view model.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Http\ExceptionStrategy</code></td>
<td align="right">1</td>
<td><code>prepareExceptionViewModel</code></td>
<td>Create an exception view model and set the status code to 404.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Http\InjectViewModelListener</code></td>
<td align="right">-100</td>
<td><code>injectViewModel</code></td>
<td>Inserts the <code>ViewModel</code> (in this case, a <code>ViewModel</code>) and adds it to the MvcEvent object. It either (a) adds it as a child to the default, composed view model, or (b) replaces it if the result is marked as terminable.</td>
</tr>
</tbody>
</table></div>
<h4 id="all-contexts_1">All contexts</h4>
<p>The following listeners are attached for all contexts:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th align="right">Priority</th>
<th>Method Called</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\DispatchListener</code></td>
<td align="right">1</td>
<td><code>reportMonitorEvent</code></td>
<td>Used for monitoring when Zend Server is used.</td>
</tr>
</tbody>
</table></div>
<h3 id="triggered-by_3">Triggered By</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th>In Method</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\MiddlewareListener</code></td>
<td><code>onDispatch</code></td>
</tr>
<tr>
<td><code>Laminas\Mvc\DispatchListener</code></td>
<td><code>onDispatch</code></td>
</tr>
<tr>
<td><code>Laminas\Mvc\DispatchListener</code></td>
<td><code>marshallControllerNotFoundEvent</code></td>
</tr>
<tr>
<td><code>Laminas\Mvc\DispatchListener</code></td>
<td><code>marshallBadControllerEvent</code></td>
</tr>
</tbody>
</table></div>
<h2 id="mvceventevent_render-render"><code>MvcEvent::EVENT_RENDER</code> ("render")</h2>
<h3 id="listeners_4">Listeners</h3>
<p>The following classes listen to this event (sorted from higher priority to lower
priority):</p>
<h4 id="console-context-only_2">Console context only</h4>
<p>The following listeners are only attached in a console context:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th align="right">Priority</th>
<th>Method Called</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\View\Console\DefaultRenderingStrategy</code></td>
<td align="right">-10000</td>
<td><code>render</code></td>
<td>Render the view.</td>
</tr>
</tbody>
</table></div>
<h4 id="http-context-only_2">HTTP context only</h4>
<p>The following listeners are only attached in an HTTP context:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th align="right">Priority</th>
<th>Method Called</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\View\Http\DefaultRenderingStrategy</code></td>
<td align="right">-10000</td>
<td><code>render</code></td>
<td>Render the view.</td>
</tr>
</tbody>
</table></div>
<h3 id="triggered-by_4">Triggered By</h3>
<p>This event is triggered by the following classes:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th>In Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\Application</code></td>
<td><code>completeRequest</code></td>
<td>This event is triggered just before the <code>MvcEvent::FINISH</code> event.</td>
</tr>
</tbody>
</table></div>
<h2 id="mvceventevent_render_error-rendererror"><code>MvcEvent::EVENT_RENDER_ERROR</code> ("render.error")</h2>
<h3 id="listeners_5">Listeners</h3>
<p>The following classes listen to this event (sorted from higher priority to lower
priority):</p>
<h4 id="console-context-only_3">Console context only</h4>
<p>The following listeners are only attached in a console context:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th align="right">Priority</th>
<th>Method Called</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\View\Console\ExceptionStrategy</code></td>
<td align="right">1</td>
<td><code>prepareExceptionViewModel</code></td>
<td>Create an exception view model and set the status code to 404.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Console\InjectViewModelListener</code></td>
<td align="right">-100</td>
<td><code>injectViewModel</code></td>
<td>Inserts the <code>ViewModel</code> (in this case, a <code>ConsoleModel</code>) and adds it to the <code>MvcEvent</code> object. It either (a) adds it as a child to the default, composed view model, or (b) replaces it if the result is marked as terminable.</td>
</tr>
</tbody>
</table></div>
<h4 id="http-context-only_3">HTTP context only</h4>
<p>The following listeners are only attached in an HTTP context:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th align="right">Priority</th>
<th>Method Called</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\View\Http\ExceptionStrategy</code></td>
<td align="right">1</td>
<td><code>prepareExceptionViewModel</code></td>
<td>Create an exception view model and set the status code to 404.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Http\InjectViewModelListener</code></td>
<td align="right">-100</td>
<td><code>injectViewModel</code></td>
<td>Inserts the <code>ViewModel</code> (in this case, a <code>ViewModel</code>) and adds it to the MvcEvent object. It either (a) adds it as a child to the default, composed view model, or (b) replaces it if the result is marked as terminable.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\View\Http\DefaultRenderingStrategy</code></td>
<td align="right">-10000</td>
<td><code>render</code></td>
<td>Render the view</td>
</tr>
</tbody>
</table></div>
<h3 id="triggered-by_5">Triggered By</h3>
<p>This event is triggered by the following classes:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th>In Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\View\Http\DefaultRenderingStrategy</code></td>
<td><code>render</code></td>
<td>This event is triggered if an exception is raised during rendering.</td>
</tr>
</tbody>
</table></div>
<h2 id="mvceventevent_finish-finish"><code>MvcEvent::EVENT_FINISH</code> ("finish")</h2>
<h3 id="listeners_6">Listeners</h3>
<p>The following classes listen to this event (sorted from higher priority to lower
priority):</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th align="right">Priority</th>
<th>Method Called</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\SendResponseListener</code></td>
<td align="right">-10000</td>
<td><code>sendResponse</code></td>
<td>Triggers the <code>SendResponseEvent</code> in order to prepare the response (see the next chapter for more information about <code>SendResponseEvent</code>).</td>
</tr>
</tbody>
</table></div>
<h3 id="triggered-by_6">Triggered By</h3>
<p>This event is triggered by the following classes:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Class</th>
<th>In Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Laminas\Mvc\Application</code></td>
<td><code>run</code></td>
<td>This event is triggered once the <code>MvcEvent::ROUTE</code> event returns a correct <code>ResponseInterface</code>.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\Application</code></td>
<td><code>run</code></td>
<td>This event is triggered once the <code>MvcEvent::DISPATCH</code> event returns a correct <code>ResponseInterface</code>.</td>
</tr>
<tr>
<td><code>Laminas\Mvc\Application</code></td>
<td><code>completeRequest</code></td>
<td>This event is triggered after <code>MvcEvent::RENDER</code> (at this point, the view is already rendered).</td>
</tr>
</tbody>
</table></div></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <div class="table-responsive"><table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
